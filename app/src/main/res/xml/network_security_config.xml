<?xml version="1.0" encoding="utf-8"?>
<network-security-config>
    <!--
        Configuración de seguridad de red para desarrollo local y producción

        IMPORTANTE: Esta configuración permite:
        - HTTP (cleartext) SOLO para localhost (desarrollo)
        - HTTPS para todos los dominios externos (producción)
    -->

    <!-- Configuración para desarrollo: permite HTTP SOLO a localhost -->
    <domain-config cleartextTrafficPermitted="true">
        <!-- 10.0.2.2 es la IP especial del emulador Android para acceder al localhost del host -->
        <domain includeSubdomains="true">10.0.2.2</domain>

        <!-- localhost para pruebas en dispositivos físicos o emuladores alternativos -->
        <domain includeSubdomains="true">localhost</domain>

        <!-- 127.0.0.1 para pruebas locales -->
        <domain includeSubdomains="true">127.0.0.1</domain>

        <!--
            Si tu backend está en otra máquina de la red local, agrégala aquí:
            <domain includeSubdomains="true">192.168.1.X</domain>
        -->
    </domain-config>

    <!--
        Configuración base: permite HTTPS para todos los demás dominios
        HTTP está bloqueado excepto para los dominios listados arriba

        Esto permite conexiones seguras a:
        - saborloca-api.onrender.com
        - Cualquier otro dominio con HTTPS válido
    -->
    <base-config cleartextTrafficPermitted="false">
        <trust-anchors>
            <!-- Confía en certificados del sistema (CAs oficiales como Let's Encrypt, etc.) -->
            <certificates src="system" />
        </trust-anchors>
    </base-config>
</network-security-config>
